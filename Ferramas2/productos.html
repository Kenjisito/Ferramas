<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo - Ferretería</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/estilos.css">
</head>
<body>
    <!-- Encabezado -->
    <header>
        <div class="container">
            <h1>Ferretería Online</h1>
            <nav>
                <a href="index.html" class="btn btn-link text-white">Inicio</a>
                <a href="carrito.html" class="btn btn-danger">Carrito</a>
                <a href="login.html" class="btn btn-link text-white">Cerrar Sesión</a>
            </nav>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="container mt-4">
        <h2 class="text-center">Catálogo de Productos</h2>

        <!-- Buscador y filtro -->
        <div class="row mb-3">
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Buscar productos...">
            </div>
            <div class="col-md-6">
                <select class="form-control">
                    <option value="">Categoría</option>
                    <option value="herramientas">Herramientas</option>
                    <option value="pinturas">Pinturas</option>
                    <option value="materiales">Materiales</option>
                </select>
            </div>
        </div>

        <!-- Tarjetas de productos -->
        <div class="product-grid">

            <div class="product-item">
                <img src="assets/img/martillo.jpeg" alt="Martillo">
                <h3>Martillo</h3>
                <p>Cantidad: 10</p>
                <p class="price">Precio: $5000</p>
                <button class="btn btn-primary agregar-carrito" data-id="1" data-nombre="Martillo" data-precio="5000">Añadir al Carrito</button>
            </div>
    
            <div class="product-item">
                <img src="assets/img/taladro.webp" alt="Taladro">
                <h3>Taladro</h3>
                <p>Cantidad: 5</p>
                <p class="price">Precio: $25000</p>
                <button class="btn btn-primary agregar-carrito" data-id="2" data-nombre="Taladro" data-precio="25000">Añadir al Carrito</button>
            </div>
    
            <div class="product-item">
                <img src="assets/img/clavos.webp" alt="Caja de Clavos">
                <h3>Caja de Clavos</h3>
                <p>Cantidad: 50</p>
                <p class="price">Precio: $2000</p>
                <button class="btn btn-primary agregar-carrito" data-id="3" data-nombre="Caja de Clavos" data-precio="2000">Añadir al Carrito</button>
            </div>
    
            <div class="product-item">
                <img src="assets/img/sierra.webp" alt="Sierra">
                <h3>Sierra</h3>
                <p>Cantidad: 8</p>
                <p class="price">Precio: $15000</p>
                <button class="btn btn-primary agregar-carrito" data-id="4" data-nombre="Sierra" data-precio="15000">Añadir al Carrito</button>
            </div>
    
            <div class="product-item">
                <img src="assets/img/destornillador.jpg" alt="Destornillador">
                <h3>Destornillador</h3>
                <p>Cantidad: 30</p>
                <p class="price">Precio: $3000</p>
                <button class="btn btn-primary agregar-carrito" data-id="5" data-nombre="Destornillador" data-precio="3000">Añadir al Carrito</button>
            </div>
    
            <div class="product-item">
                <img src="assets/img/llaveinglesa.webp" alt="Llave Inglesa">
                <h3>Llave Inglesa</h3>
                <p>Cantidad: 15</p>
                <p class="price">Precio: $7000</p>
                <button class="btn btn-primary agregar-carrito" data-id="6" data-nombre="Llave Inglesa" data-precio="7000">Añadir al Carrito</button>
            </div>
    
            <div class="product-item">
                <img src="assets/img/alicate.jpg" alt="Alicate">
                <h3>Alicate</h3>
                <p>Cantidad: 25</p>
                <p class="price">Precio: $4000</p>
                <button class="btn btn-primary agregar-carrito" data-id="7" data-nombre="Alicate" data-precio="4000">Añadir al Carrito</button>
            </div>
    
            <div class="product-item">
                <img src="assets/img/lijadora.webp" alt="Lijadora">
                <h3>Lijadora</h3>
                <p>Cantidad: 4</p>
                <p class="price">Precio: $18000</p>
                <button class="btn btn-primary agregar-carrito" data-id="8" data-nombre="Lijadora" data-precio="18000">Añadir al Carrito</button>
            </div>
    
            <div class="product-item">
                <img src="assets/img/cintametrica.webp" alt="Cinta Métrica">
                <h3>Cinta Métrica</h3>
                <p>Cantidad: 20</p>
                <p class="price">Precio: $1000</p>
                <button class="btn btn-primary agregar-carrito" data-id="9" data-nombre="Cinta Métrica" data-precio="1000">Añadir al Carrito</button>
            </div>
    
            <div class="product-item">
                <img src="assets/img/niveldeburbuja.webp" alt="Nivel de Burbuja">
                <h3>Nivel de Burbuja</h3>
                <p>Cantidad: 12</p>
                <p class="price">Precio: $8000</p>
                <button class="btn btn-primary agregar-carrito" data-id="10" data-nombre="Nivel de Burbuja" data-precio="8000">Añadir al Carrito</button>
            </div>
    
        </div>

    </main>
    
        <footer>
            <p>&copy; 2023 Ferretería Online. Todos los derechos reservados.</p>
        </footer>
</body>

<script>
    let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

    document.addEventListener("DOMContentLoaded", () => {
        const botonesAgregar = document.querySelectorAll(".agregar-carrito");

        botonesAgregar.forEach(boton => {
            boton.addEventListener("click", () => {
                const id = boton.dataset.id;
                const nombre = boton.dataset.nombre;
                const precio = parseFloat(boton.dataset.precio);

                // Buscar si el producto ya existe en el carrito
                const productoExistente = carrito.find(item => item.id === id);

                if (productoExistente) {
                    productoExistente.cantidad += 1; // Incrementar cantidad
                } else {
                    carrito.push({ id, nombre, precio, cantidad: 1 });
                }

                // Guardar en localStorage
                localStorage.setItem("carrito", JSON.stringify(carrito));
                alert(`${nombre} añadido al carrito.`);
            });
        });
    });
</script>
</html>
